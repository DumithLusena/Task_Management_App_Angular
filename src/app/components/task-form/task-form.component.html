<form (ngSubmit)="onSubmit()" class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6 border border-gray-100 dark:border-gray-700">

  <h3 class="text-xl font-bold mb-4 text-gray-800 dark:text-white">{{ isEditMode ? 'âœï¸ Edit Task' : 'â• Add New Task' }}</h3>
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <!-- Task Title -->
    <div class="md:col-span-2">
      <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Task Title *</label>
      <input type="text" [(ngModel)]="task.title" name="title"
        class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" 
        placeholder="Enter task title" required>
    </div>

    <!-- Description -->
    <div class="md:col-span-2">
      <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Description</label>
      <textarea [(ngModel)]="task.description" name="description" rows="3"
        class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
        placeholder="Task description (optional)"></textarea>
    </div>

    <!-- Category -->
    <div>
      <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Category</label>
      <select [(ngModel)]="task.category" name="category"
        class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
        <option value="">Select Category</option>
        <option *ngFor="let cat of categories" [value]="cat.name">{{ cat.icon }} {{ cat.name }}</option>
      </select>
    </div>

    <!-- Priority -->
    <div>
      <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Priority</label>
      <select [(ngModel)]="task.priority" name="priority"
        class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
        <option value="low">ğŸŸ¢ Low</option>
        <option value="medium">ğŸŸ¡ Medium</option>
        <option value="high">ğŸ”´ High</option>
      </select>
    </div>

    <!-- Due Date -->
    <div>
      <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Due Date</label>
      <input type="date" [(ngModel)]="task.dueDate" name="dueDate"
        class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
    </div>

    <!-- Tags -->
    <div>
      <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Tags</label>
      <div class="flex gap-2">
        <input type="text" [(ngModel)]="tagInput" name="tagInput"
          class="flex-1 p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
          placeholder="Add tag" (keyup.enter)="addTag()">
        <button type="button" (click)="addTag()"
          class="bg-gray-200 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 px-4 py-3 rounded-lg transition-colors">
          Add
        </button>
      </div>
      <div class="flex flex-wrap gap-2 mt-2">
        <span *ngFor="let tag of task.tags" 
          class="bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 px-3 py-1 rounded-full text-sm flex items-center gap-1">
          {{ tag }}
          <button type="button" (click)="removeTag(tag)" class="text-blue-900 dark:text-red-300 hover:text-red-600 font-bold">Ã—</button>
        </span>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="flex gap-3 mt-6">
    <button type="submit" 
      class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors shadow-md hover:shadow-lg">
      {{ isEditMode ? 'ğŸ’¾ Update Task' : 'â• Create Task' }}
    </button>
    <button type="button" (click)="onCancel()" *ngIf="isEditMode"
      class="bg-gray-200 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 font-semibold px-6 py-3 rounded-lg transition-colors">
      Cancel
    </button>
  </div>

</form>
